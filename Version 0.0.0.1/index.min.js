var path = __dirname;

const { existsSync } = require('fs');

/**
 * @param {String} path 
 * @returns {any}
 */
const add_modules = (path) => {
    if (!existsSync(path)) {
        throw new Error(`Le fichier "${path}" n'a pas été trouvé.`);
    } else {
        return require(path);
    }
}

const { Logs } = add_modules(`${path}/common/required/logs.js`);

globalThis.Log = new Logs(path);
Log.setup({
    pathfile: 'Logs',
    formatfilename: 'Log %j-%M-%a.log',
    prefixlog: '[%h:%m %j/%M/%a][%type] '
});

const { Bots } = add_modules(`${path}/common/required/index.js`);

new Bots().setup('ws://localhost:8081/');